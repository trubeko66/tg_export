# Быстрый запуск

## 1. Установка зависимостей
```bash
pip install -r requirements.txt
```

## 2. Получение API ключей
1. Перейдите на https://my.telegram.org/auth
2. Войдите в аккаунт и создайте приложение
3. Сохраните API ID и API Hash

## 3. Запуск программы
```bash
python start.py
```
или
```bash
python telegram_exporter.py
```

## 4. Первая настройка
1. При первом запуске программа автоматически предложит настроить конфигурацию
2. Введите API ID и API Hash (получите на https://my.telegram.org/auth)
3. Введите номер телефона и код подтверждения
4. Настройте бота для уведомлений (опционально)
5. (Опционально) Настройте путь хранения списка каналов и каталог экспорта в `config.py`
6. Импортируйте/экспортируйте список каналов в JSON на старте (по желанию)
7. Выберите каналы для мониторинга

### Выбор каналов (UI)
- Навигация: `p`/`n`
- Массовые действия: `sa` — выделить страницу, `sd` — снять выделение
- Поиск: `f` — поиск по названию/username; `x` — очистить выделение
- Точечный/диапазонный выбор: `1,3-6`
- Завершить выбор: `s`; выйти: `q`

### Путь хранения списка каналов
- Настраивается в `config.py` → пункт «Настроить путь хранения списка каналов»
- Поле `storage.channels_path` в `.config.json`

### Каталог экспорта каналов
- Настраивается в `config.py` в том же пункте
- Поле `storage.export_base_dir` в `.config.json` (по умолчанию `exports`)

### Многопоточная загрузка медиа
- Настраивается в том же пункте конфигурации
- Поле `storage.media_download_threads` (по умолчанию 4)
- Ускоряет загрузку медиафайлов в 2-4 раза

## Управление настройками
Для изменения конфигурации в любое время:
```bash
python3 config.py
```

## 5. Готово!
Программа будет работать в фоне и проверять каналы каждый день в 00:00.
Для завершения нажмите Ctrl+C.

## Структура файлов после запуска:
```
├── telegram_exporter.py     # Основная программа
├── exporters.py            # Модуль экспорта
├── config_manager.py       # Управление конфигурацией
├── config.py              # Настройка конфигурации
├── start.py               # Скрипт запуска
├── requirements.txt       # Зависимости
├── .config.json          # Сохраненные настройки
├── .channels             # Сохраненные каналы (путь можно изменить)
├── export.log           # Логи работы
├── session_name.session # Сессия Telegram
└── [Канал]/            # Папки каналов
    ├── [Канал].json
    ├── [Канал].html
    ├── [Канал].md
    └── media/
```

## Мониторинг и экспорт

1. **Автоматический экспорт**: программа запускается ежедневно в 00:00
2. **Проверка экспорта**: автоматически проверяется создание всех файлов экспорта
3. **Отслеживание прогресса**: в реальном времени показывается текущий канал и прогресс "Обработано X из Y"
4. **Повторная проверка**: если экспорт прошел без сообщений, автоматически показывается общее количество сообщений в канале
5. **Уведомления**: получайте уведомления о новых сообщениях и ошибках экспорта
6. **WebDAV синхронизация**: автоматическая загрузка списка каналов и архивов (если настроено)
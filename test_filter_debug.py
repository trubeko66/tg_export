#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–¢–µ—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
"""

from content_filter import ContentFilter

def test_filter_debug():
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å –æ—Ç–ª–∞–¥–∫–æ–π"""
    print("üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π...")
    
    # –°–æ–∑–¥–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    content_filter = ContentFilter()
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤ IT –∫–∞–Ω–∞–ª–∞—Ö
    test_messages = [
        "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?",
        "–†–µ–∫–ª–∞–º–∞: –∫—É–ø–∏—Ç–µ –Ω–∞—à –ø—Ä–æ–¥—É–∫—Ç!",
        "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫—É—Ä—Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
        "–ù–æ–≤–æ—Å—Ç–∏ IT –∏–Ω–¥—É—Å—Ç—Ä–∏–∏",
        "–ù–∞–±–æ—Ä –≤ —à–∫–æ–ª—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
        "Python –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫—É—Ä—Å",
        "DevOps –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è Linux",
        "–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é Python",
        "–ö—É—Ä—Å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è",
        "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–µ–±–∏–Ω–∞—Ä –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
        "–ù–æ–≤–æ—Å—Ç–∏ –∏–∑ –º–∏—Ä–∞ IT",
        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Å—Ç–∞—Ç—å—è –æ Linux",
        "–û–±–∑–æ—Ä –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π",
        "–°–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é",
        "–†–µ–∫–ª–∞–º–∞ –∫—É—Ä—Å–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"
    ]
    
    print(f"\nüìã –¢–µ—Å—Ç–∏—Ä—É–µ–º {len(test_messages)} —Å–æ–æ–±—â–µ–Ω–∏–π:")
    print("=" * 80)
    
    for i, message in enumerate(test_messages, 1):
        print(f"\n{i:2d}. –°–æ–æ–±—â–µ–Ω–∏–µ: '{message}'")
        
        should_filter, filter_reason = content_filter.should_filter_message(message)
        
        if should_filter:
            print(f"    ‚ùå –û–¢–§–ò–õ–¨–¢–†–û–í–ê–ù–û: {filter_reason}")
        else:
            print(f"    ‚úÖ –ü–†–ò–ù–Ø–¢–û")
    
    print("\n" + "=" * 80)
    print("‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!")
    print("\nüí° –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:")
    print("   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞ –≤ content_filter.py")
    print("   - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ ad_markers, school_keywords, event_keywords, promo_keywords")

if __name__ == "__main__":
    test_filter_debug()
